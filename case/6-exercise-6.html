<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>练习6</title>
  </head>
  <body>
    <h1>计算给定字符串中出现次数最多的字符以及出现次数</h1>
    <p>var str = 'this is a test string'</p>
    <pre></pre>
  </body>
  <script>
    var str = "this is a test string";
    function max(str) {
      let arr = str.trim().split(" ");
      let newStr = arr.join("");
      let obj = {};
      for (let i = 0; i < newStr.length; i++) {
        let key = newStr[i];
        if (obj[key]) {
          obj[key]++;
        } else {
          obj[key] = 1;
        }
      }
      let maxCount = 0;
      let arr2 = [];
      for (let item in obj) {
        if (maxCount < obj[item]) {
          maxCount = obj[item];
          //char = item;
        }
      }
      for(let item in obj){
          if(maxCount==obj[item]){
            arr2.push(item);
          }
      }
      return [arr2,maxCount];
    }
    let res = max(str);
    console.log(`最多次数为${res[1]},字符是${res[0]}`);
    document.querySelector("pre").innerHTML=`字符串中出现次数最多的字符是：${res[0]} 出现次数是：${res[1]}`;
  </script>
</html>
