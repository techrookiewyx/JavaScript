<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>弹窗屏蔽器</title>
  </head>
  <body>
    <script>
      //现在浏览器都内置了弹窗屏蔽器，若果浏览器内部弹窗屏蔽器阻止弹窗时，window.open()可能会返回null
      // var opNw = window.open("https://baidu.com","_blank");
      // if(opNw == null){
      //   alert("我被浏览器内置屏蔽器屏蔽了");
      // }


      //当弹窗被浏览器扩展或其他程序屏蔽时，window.open（）通常会抛出错误，因此需要使用try/catch来包起来
      var blocked = false;
      try{
        var opNw1 = window.open("https://www.tencent.com/zh-cn/","_blank");
        if(opNw == null){
          blocked = true;
        }
      }catch(err){
          blocked = true;
        }
      if(bloacked){
        alert("弹窗被屏蔽");
      }
    </script>
  </body>
</html>
