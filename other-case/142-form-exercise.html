<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS-表单多选按钮练习</title>
    <style>
      form div input {
        vertical-align: middle;
      }
    </style>
  </head>
  <body>
    <form action="">
      <div>请选择你的爱好<input type="checkbox" id="checkAll" />全选</div>
      <div>
        <input type="checkbox" name="hobby" value="篮球" />篮球
        <input type="checkbox" name="hobby" value="羽毛球" />羽毛球
        <input type="checkbox" name="hobby" value="足球" />足球
        <input type="checkbox" name="hobby" value="乒乓球" />乒乓球
        <input type="checkbox" name="hobby" value="排球" />排球
      </div>
      <div>
        <input type="button" id="all" value="全选" />
        <input type="button" id="none" value="取消" />
        <input type="button" id="reverse" value="反选" />
        <input type="button" id="submit" value="提交" />
      </div>
    </form>
    <script>
      var ckAll = document.getElementById("checkAll");
      var btAll = document.getElementById("all");
      var hobbies = document.getElementsByName("hobby");
      var btnNon = document.getElementById("none");
      var btnRes = document.getElementById("reverse");
      var btnSub = document.getElementById("submit");
      btAll.addEventListener("click", function () {
        for (let i = 0; i < hobbies.length; i++) {
          hobbies[i].checked = true;
        }
        ckAll.checked = true;
      });
      btnNon.addEventListener("click", function () {
        for (let i = 0; i < hobbies.length; i++) {
          hobbies[i].checked = false;
        }
        ckAll.checked = false;
      });
      btnRes.addEventListener("click", function () {
        for (let i = 0; i < hobbies.length; i++) {
          hobbies[i].checked = !hobbies[i].checked;
        }
        //获取所有选中的checkbox
        let cotCek = document.querySelectorAll("[name=hobby]:checked");
        //判断是否全部选中
        if (cotCek.length == hobbies.length) {
          ckAll.checked = true;
        } else {
          ckAll.checked = false;
        }
      });
      btnSub.addEventListener("click", function () {
        for (let i = 0; i < hobbies.length; i++) {
          if (hobbies[i].checked) {
            alert(hobbies[i].getAttribute("value"));
          }
        }
      });
      ckAll.onchange = function () {
        for (let i = 0; i < hobbies.length; i++) {
          //将所有爱好设置为checked
          hobbies[i].checked = this.checked;
        }
      };
      for (let j = 0; j < hobbies.length; j++) {
        hobbies[j].onchange = function () {
          //获取所有选中的checkbox
          let cotCek = document.querySelectorAll("[name=hobby]:checked");
          //判断是否全部选中
          if (cotCek.length == hobbies.length) {
            ckAll.checked = true;
          } else {
            ckAll.checked = false;
          }
        };
      }
    </script>
  </body>
</html>
